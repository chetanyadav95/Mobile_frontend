{"version":3,"sources":["webpack:///src/app/pages/sign-up/sign-up.page.html","webpack:///src/app/pages/sign-up/sign-up.module.ts","webpack:///src/app/pages/sign-up/sign-up-routing.module.ts","webpack:///src/app/pages/sign-up/sign-up.page.scss","webpack:///src/app/pages/sign-up/sign-up.page.ts"],"names":["SignUpPageModule","imports","declarations","routes","path","component","SignUpPageRoutingModule","forChild","exports","SignUpPage","router","userService","checkIfIsOnLoginOrSignUpPage","url","form","checkIfPasswordsMatch","value","password","confirmPassword","signUp","subscribe","res","localStorage","setItem","jwt","decodedToken","user","id","_id","email","username","balance","availableBal","openBal","accountDetails","account","initialValue","parseFloat","currentBalance","currency","next","resetForm","navigate","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCmBFA,gBAAgB;AAAA;AAAA,O;;AAAhBA,sBAAgB,6DAT5B,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,+EAJO,CADD;AAORC,oBAAY,EAAE,CAAC,wDAAD;AAPN,OAAT,CAS4B,GAAhBF,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdb,UAAMG,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAJnC,+DAAS;AACRL,eAAO,EAAE,CAAC,6DAAaM,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAImC,GAAvBF,uBAAuB,CAAvB;;;;;;;;;;;;;;;;AChBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCYFG,UAAU;AACrB,4BAAoBC,MAApB,EAA4CC,WAA5C,EAAsE;AAAA;;AAAlD,eAAAD,MAAA,GAAAA,MAAA;AAAwB,eAAAC,WAAA,GAAAA,WAAA;AAA6B;;AADpD;AAAA;AAAA,qCAGV;AACT,iBAAKA,WAAL,CAAiBC,4BAAjB,CAA8C,KAAKF,MAAL,CAAYG,GAA1D;AACD;AALoB;AAAA;AAAA,iCAOdC,IAPc,EAOF;AAAA;;AACjB,gBAAG,KAAKC,qBAAL,CAA2BD,IAAI,CAACE,KAAL,CAAWC,QAAtC,EAAgDH,IAAI,CAACE,KAAL,CAAWE,eAA3D,CAAH,EAA+E;AAC7E,qBAAOJ,IAAI,CAACE,KAAL,CAAWE,eAAlB;AACA,mBAAKP,WAAL,CAAiBQ,MAAjB,CAAwBL,IAAI,CAACE,KAA7B,EAAoCI,SAApC,CAA8C,UAACC,GAAD,EAAa;AACzDC,4BAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,GAAlC;AACA,qBAAI,CAACb,WAAL,CAAiBc,YAAjB,GAAgCJ,GAAG,CAACG,GAApC;AACA,oBAAIE,IAAI,GAAS;AACfC,oBAAE,EAAEN,GAAG,CAACK,IAAJ,CAASE,GADE;AAEfC,uBAAK,EAAER,GAAG,CAACK,IAAJ,CAASG,KAFD;AAGfC,0BAAQ,EAAET,GAAG,CAACK,IAAJ,CAASI,QAHJ;AAIfC,yBAAO,EAAE;AACPC,gCAAY,EAAE,CADP;AAEPC,2BAAO,EAAE;AAFF;AAJM,iBAAjB;;AASA,qBAAI,CAACtB,WAAL,CAAiBuB,cAAjB,GAAkCd,SAAlC,CAA4C,UAACC,GAAD,EAAc;AACxDK,sBAAI,CAACK,OAAL,CAAaC,YAAb,GAA4BX,GAAG,CAACc,OAAJ,CAAYC,YAAxC;AACAV,sBAAI,CAACK,OAAL,CAAaE,OAAb,GAAuBI,UAAU,CAAChB,GAAG,CAACc,OAAJ,CAAYG,cAAb,CAAjC;AACAZ,sBAAI,CAACK,OAAL,CAAaQ,QAAb,GAAwBlB,GAAG,CAACc,OAAJ,CAAYI,QAApC;AACD,iBAJD,EAIG,YAAM,CAAE,CAJX,EAIa;AAAA,yBAAM,KAAI,CAAC5B,WAAL,CAAiBe,IAAjB,CAAsBc,IAAtB,CAA2Bd,IAA3B,CAAN;AAAA,iBAJb;;AAKAZ,oBAAI,CAAC2B,SAAL;;AACA,qBAAI,CAAC/B,MAAL,CAAYgC,QAAZ,CAAqB,CAAC,MAAD,EAAQ,OAAR,CAArB;;AACA,qBAAI,CAAC/B,WAAL,CAAiBC,4BAAjB,CAA8C,aAA9C;AACD,eApBD;AAqBD;AACF;AAhCoB;AAAA;AAAA,gDAkCCK,QAlCD,EAkCWC,eAlCX,EAkC0B;AAC7C,gBAAGD,QAAQ,KAAKC,eAAhB,EAAiC,OAAO,IAAP,CAAjC,KACK,OAAO,KAAP;AACN;AArCoB;;AAAA;AAAA,S;;;;gBAVd;;gBAGA;;;;AAOIT,gBAAU,6DALtB,gEAAU;AACTkC,gBAAQ,EAAE,aADD;AAETC,gBAAQ,EAAR,qEAFS;;AAAA,OAAV,CAKsB,GAAVnC,UAAU,CAAV","file":"pages-sign-up-sign-up-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n\\t<ion-toolbar>\\n\\t\\t<ion-img src=\\\"/assets/logo_no_back.png\\\" class=\\\"logo\\\"></ion-img>\\n\\t</ion-toolbar>\\n</ion-header>\\n<!-- \\n\\t123 pg, pitanja activity 6\\n\\t105 pg tekst, pitanja sa strane, roze kockice\\n\\n -->\\n<ion-content>\\n\\t<form #signUpForm=\\\"ngForm\\\" (ngSubmit)=\\\"signUp(signUpForm)\\\">\\n\\t\\t<!-- <ion-title class=\\\"ion-text-center ion-margin-vertical\\\" color=\\\"warning\\\"><h1>Welcome to Empuraan</h1></ion-title> -->\\n\\t\\t<ion-title class=\\\"ion-text-center ion-margin-vertical\\\"><h2>Sign Up</h2></ion-title>\\n\\t\\t<ion-grid>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<ion-item class=\\\"ion-no-padding\\\">\\n\\t\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Username</ion-label>\\n\\t\\t\\t\\t\\t\\t<ion-input required ngModel name=\\\"username\\\"></ion-input>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<ion-item class=\\\"ion-no-padding\\\">\\n\\t\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Email</ion-label>\\n\\t\\t\\t\\t\\t\\t<ion-input type=\\\"email\\\" required ngModel name=\\\"email\\\"></ion-input>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<ion-item class=\\\"ion-no-padding\\\">\\n\\t\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Password</ion-label>\\n\\t\\t\\t\\t\\t\\t<ion-input type=\\\"password\\\" required ngModel name=\\\"password\\\"></ion-input>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<ion-item class=\\\"ion-no-padding\\\">\\n\\t\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\">Confirm Password</ion-label>\\n\\t\\t\\t\\t\\t\\t<ion-input type=\\\"password\\\" required ngModel name=\\\"confirmPassword\\\"></ion-input>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"button sign-up-button\\\">Sign Up</button>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\tcolor=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\tsize=\\\"small\\\"\\n\\t\\t\\t\\t\\t\\texpand=\\\"block\\\"\\n\\t\\t\\t\\t\\t\\tfill=\\\"clear\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"ion-float-left link-button\\\"\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/home/login\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\tAlready have an account?\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t</ion-grid>\\n\\t</form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignUpPageRoutingModule } from './sign-up-routing.module';\n\nimport { SignUpPage } from './sign-up.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SignUpPageRoutingModule\n  ],\n  declarations: [SignUpPage]\n})\nexport class SignUpPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignUpPage } from './sign-up.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignUpPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignUpPageRoutingModule {}\n","export default \".logo {\\n  height: 100px;\\n  width: 100px;\\n  margin: 0 auto;\\n  padding-top: 10px;\\n}\\n\\n.button {\\n  width: 100%;\\n  margin-top: 10px;\\n  border-radius: 5px;\\n  height: 45px;\\n  font-size: 14px;\\n}\\n\\n.sign-up-button {\\n  background-color: #2879cf;\\n  color: white;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.link-button {\\n  float: left;\\n  text-align: left;\\n  background-color: transparent;\\n  margin-top: 20px;\\n}\\n\\n.links-block {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\nform {\\n  margin-top: 5%;\\n}\\n\\nh1, h2 {\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n@media screen and (max-width: 360px) {\\n  h1, h2 {\\n    font-size: 17px;\\n  }\\n\\n  ion-label, ion-text, p, h5, ion-button, span {\\n    font-size: 13px !important;\\n  }\\n\\n  ion-icon {\\n    font-size: 17px;\\n  }\\n\\n  .sign-up-button {\\n    width: 100%;\\n    height: 40px;\\n    font-size: 13px !important;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2lnbi11cC9zaWduLXVwLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBRUo7O0FBQUE7RUFDSSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBR0o7O0FBREE7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSw2QkFBQTtFQUNBLGdCQUFBO0FBSUo7O0FBRkE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7QUFLSjs7QUFIQTtFQUNJLGNBQUE7QUFNSjs7QUFKQTtFQUNJLFVBQUE7RUFDQSxTQUFBO0FBT0o7O0FBTEE7RUFDSTtJQUNFLGVBQUE7RUFRSjs7RUFORTtJQUNFLDBCQUFBO0VBU0o7O0VBUEU7SUFDSSxlQUFBO0VBVU47O0VBUkU7SUFDSSxXQUFBO0lBQ0EsWUFBQTtJQUNBLDBCQUFBO0VBV047QUFDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NpZ24tdXAvc2lnbi11cC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9nb3tcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcbn1cbi5idXR0b257XG4gICAgd2lkdGg6IDEwMCU7IFxuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGhlaWdodDogNDVweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG4uc2lnbi11cC1idXR0b257XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI4NzljZjtcbiAgICBjb2xvcjp3aGl0ZTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbi5saW5rLWJ1dHRvbntcbiAgICBmbG9hdDogbGVmdDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59XG4ubGlua3MtYmxvY2t7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuZm9ybXtcbiAgICBtYXJnaW4tdG9wOiA1JTtcbn1cbmgxLGgye1xuICAgIHBhZGRpbmc6MDtcbiAgICBtYXJnaW46MDtcbn1cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDM2MHB4KSB7XG4gICAgaDEsaDJ7XG4gICAgICBmb250LXNpemU6IDE3cHg7XG4gICAgfVxuICAgIGlvbi1sYWJlbCwgaW9uLXRleHQsIHAsIGg1LCBpb24tYnV0dG9uLCBzcGFue1xuICAgICAgZm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIGlvbi1pY29ue1xuICAgICAgICBmb250LXNpemU6IDE3cHg7XG4gICAgfVxuICAgIC5zaWduLXVwLWJ1dHRvbntcbiAgICAgICAgd2lkdGg6IDEwMCU7IFxuICAgICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50O1xuICAgIH1cbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Input } from 'hammerjs';\nimport { User } from 'src/app/models/user.model';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.page.html',\n  styleUrls: ['./sign-up.page.scss'],\n})\nexport class SignUpPage implements OnInit {\n  constructor(private router: Router, private userService: UserService) { }\n\n  ngOnInit() {\n    this.userService.checkIfIsOnLoginOrSignUpPage(this.router.url)\n  }\n\n  signUp(form: NgForm){\n    if(this.checkIfPasswordsMatch(form.value.password, form.value.confirmPassword)){\n      delete form.value.confirmPassword\n      this.userService.signUp(form.value).subscribe((res: any) =>{\n        localStorage.setItem('token', res.jwt)\n        this.userService.decodedToken = res.jwt\n        let user: User = {\n          id: res.user._id,\n          email: res.user.email,\n          username: res.user.username,\n          balance: {\n            availableBal: 0,\n            openBal: 0,\n          }\n        }\n        this.userService.accountDetails().subscribe((res: any) => {\n          user.balance.availableBal = res.account.initialValue\n          user.balance.openBal = parseFloat(res.account.currentBalance)\n          user.balance.currency = res.account.currency\n        }, () => {}, () => this.userService.user.next(user))\n        form.resetForm()\n        this.router.navigate(['home','login'])\n        this.userService.checkIfIsOnLoginOrSignUpPage('/home/login')\n      })\n    }\n  }\n\n  checkIfPasswordsMatch(password, confirmPassword){\n    if(password === confirmPassword) return true\n    else return false\n  }\n}\n"]}